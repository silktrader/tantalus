<ng-container *ngIf="originalPortion !== undefined">
  <mat-card>
    <mat-card-header class="header">
      <mat-card-title>{{originalPortion.food.name}}</mat-card-title>
    </mat-card-header>
    <mat-card-content class="summary">
      <section class="macronutrients">
        <div class="macronutrients-section">
          <span class="macronutrients-number">{{portionForm.valid ? previewedPortion.calories + ' kcal': "…"}}</span>
          <span class="macronutrients-label">Calories</span>
        </div>
        <div class="macronutrients-section">
          <span class="macronutrients-number">{{portionForm.valid ? previewedPortion.proteins + ' g.' : "…"}}</span>
          <span class="macronutrients-label">Proteins</span>
        </div>
        <div class="macronutrients-section">
          <span class="macronutrients-number">{{portionForm.valid ? previewedPortion.carbs + ' g.' : "…"}}</span>
          <span class="macronutrients-label">Carbs</span>
        </div>
        <div class="macronutrients-section">
          <span class="macronutrients-number">{{portionForm.valid ? previewedPortion.fats + ' g.' : "…"}}</span>
          <span class="macronutrients-label">Fats</span>
        </div>
      </section>

      <section class="inputs">
        <mat-form-field class="quantity" [formGroup]="portionForm">
          <input class="quantity-editor" matInput type="number" autocomplete="off" formControlName="quantity" />
          <span matSuffix class="quantity-unit">grams</span>
          <mat-error *ngIf="quantitiesControl.invalid">{{getQuantitiesControlError()}}</mat-error>
        </mat-form-field>
      </section>

      <section class="buttons">
        <button type="button" (click)="resetQuantity()" color="primary" mat-raised-button [disabled]="!portionForm.dirty">Reset</button>
        <button type="submit" (click)="save()" color="primary" mat-raised-button [disabled]="saveDisabled">Save</button>
      </section>
    </mat-card-content>


  </mat-card>
</ng-container>