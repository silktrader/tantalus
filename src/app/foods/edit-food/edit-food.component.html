<mat-toolbar color="primary">
  <button class="toolbar-item" mat-icon-button (click)="ui.goBack()">
    <mat-icon>arrow_back</mat-icon>
  </button>
  <h3 class="toolbar-title">Edit Food</h3>
  <span class="toolbar-actions">
    <button mat-icon-button (click)="onDelete()" [disabled]="!deletable">
      <mat-icon>delete_sweep</mat-icon>
    </button>
  </span>
  <mat-datepicker></mat-datepicker>
</mat-toolbar>

<form *ngIf="editable" [formGroup]="addFoodForm" (ngSubmit)="onSubmit()">

  <section class="label">
    <section class="label-favourite">
      <button type="button" class="label-favourite-button" mat-icon-button>
        <mat-icon>star_border</mat-icon>
      </button>
    </section>
    <section class="label-name">
      <mat-form-field class="label-name-field">
        <!-- <mat-label>Name</mat-label> -->
        <input type="text" matInput required minlength="4" maxlength="35" autocomplete="off" formControlName="name">
        <!-- <mat-hint>Enter the food's name</mat-hint> -->
      </mat-form-field>
    </section>
    <section class="label-details">
      <span class=label-details-percentage>{{food.detailsPercentage | percent}}</span>
    </section>
  </section>

  <section class="macronutrients">
    <mat-form-field appearance="fill" class="macronutrients-item">
      <mat-label>Proteins (g.)</mat-label>
      <input type="number" matInput placeholder="ex. 12.25" step="1" min="0" max="99" autocomplete="off"
        formControlName="proteins">
    </mat-form-field>

    <mat-form-field appearance="fill" class="macronutrients-item">
      <mat-label>Carbs (g.)</mat-label>
      <input type="number" matInput placeholder="ex. 20" step="1" min="0" max="99" autocomplete="off" formControlName="carbs">
    </mat-form-field>

    <mat-form-field appearance="fill" class="macronutrients-item">
      <mat-label>Fats (g.)</mat-label>
      <input type="number" matInput placeholder="ex. 8.8" step="1" min="0" max="99" autocomplete="off" formControlName="fats">
    </mat-form-field>
  </section>

  <mat-divider></mat-divider>

  <section class="mat-caption optional-notice">optional fields</section>

  <!-- <mat-expansion-panel class="macronutrients edit-card" hideToggle expanded>
    <mat-expansion-panel-header>
      <mat-panel-title>
        Macronutrients
      </mat-panel-title>
    </mat-expansion-panel-header>
    
  </mat-expansion-panel> -->

  <mat-expansion-panel class="nutrients-details edit-card">
    <mat-expansion-panel-header>
      <mat-panel-title>
        Nutrients Details
      </mat-panel-title>
      <mat-panel-description>
        (optional)
      </mat-panel-description>
    </mat-expansion-panel-header>

    <section class="details">

      <section class="carbs-column">
        <mat-form-field appearance="fill" class="column-item">
          <mat-label>Fibres (g.)</mat-label>
          <input type="number" matInput placeholder="ex. 2.10" step="1" min="0" max="99" autocomplete="off"
            formControlName="fibres">
        </mat-form-field>

        <mat-form-field appearance="fill" class="column-item">
          <mat-label>Sugar (g.)</mat-label>
          <input type="number" matInput placeholder="ex. 2.10" step="1" min="0" max="99" autocomplete="off"
            formControlName="sugar">
        </mat-form-field>

        <mat-form-field appearance="fill" class="column-item">
          <mat-label>Starch (g.)</mat-label>
          <input type="number" matInput placeholder="ex. 2.10" step="1" min="0" max="99" autocomplete="off"
            formControlName="starch">
        </mat-form-field>
      </section>
      <mat-divider [vertical]="true"></mat-divider>
      <section class="fats-column">
        <mat-form-field appearance="fill" class="column-item">
          <mat-label>Saturated Fat (g.)</mat-label>
          <input type="number" matInput placeholder="ex. 2.10" step="1" min="0" max="99" autocomplete="off"
            formControlName="saturated">
        </mat-form-field>

        <mat-form-field appearance="fill" class="column-item">
          <mat-label>Trans Fat (g.)</mat-label>
          <input type="number" matInput placeholder="ex. 2.10" step="1" min="0" max="99" autocomplete="off"
            formControlName="trans">
        </mat-form-field>

        <mat-form-field appearance="fill" class="column-item">
          <mat-label>Cholesterol (g.)</mat-label>
          <input type="number" matInput placeholder="ex. 2.10" step="1" min="0" max="99" autocomplete="off"
            formControlName="cholesterol">
        </mat-form-field>
      </section>

    </section>
  </mat-expansion-panel>

  <mat-expansion-panel class="edit-card">
    <mat-expansion-panel-header>
      <mat-panel-title>
        Minerals
      </mat-panel-title>
      <mat-panel-description>
        (optional)
      </mat-panel-description>
    </mat-expansion-panel-header>

    <section class="details">

      <section class="carbs-column">
        <mat-form-field appearance="fill" class="column-item">
          <mat-label>Sodium (mg.)</mat-label>
          <input type="number" matInput placeholder="ex. 2.10" step="1" min="0" max="9000" autocomplete="off"
            formControlName="sodium">
        </mat-form-field>

        <mat-form-field appearance="fill" class="column-item">
          <mat-label>Calcium (mg.)</mat-label>
          <input type="number" matInput placeholder="ex. 2.10" step="1" min="0" max="99" autocomplete="off"
            formControlName="calcium">
        </mat-form-field>

        <mat-form-field appearance="fill" class="column-item">
          <mat-label>Potassium (mg.)</mat-label>
          <input type="number" matInput placeholder="ex. 2.10" step="1" min="0" max="99" autocomplete="off"
            formControlName="potassium">
        </mat-form-field>

      </section>
      <mat-divider [vertical]="true"></mat-divider>
      <section class="fats-column">
        <mat-form-field appearance="fill" class="column-item">
          <mat-label>Magnesium (mg.)</mat-label>
          <input type="number" matInput placeholder="ex. 2.10" step="1" min="0" max="99" autocomplete="off"
            formControlName="magnesium">
        </mat-form-field>

        <mat-form-field appearance="fill" class="column-item">
          <mat-label>Zinc (mg.)</mat-label>
          <input type="number" matInput placeholder="ex. 2.10" step="1" min="0" max="99" autocomplete="off"
            formControlName="zinc">
        </mat-form-field>

        <mat-form-field appearance="fill" class="column-item">
          <mat-label>Iron (mg.)</mat-label>
          <input type="number" matInput placeholder="ex. 2.10" step="1" min="0" max="99" autocomplete="off"
            formControlName="iron">
        </mat-form-field>
      </section>

    </section>

  </mat-expansion-panel>

  <mat-expansion-panel class="edit-card">
    <mat-expansion-panel-header>
      <mat-panel-title>
        Misc
      </mat-panel-title>
      <mat-panel-description>
        (optional)
      </mat-panel-description>
    </mat-expansion-panel-header>

    <section>
      <mat-form-field appearance="fill" class="misc-item">
        <mat-label>Notes</mat-label>
        <textarea matInput cdkTextareaAutosize cdkAutosizeMinRows="3" formControlName="notes" rows="3"></textarea>
      </mat-form-field>
    </section>
    <mat-divider></mat-divider>
    <section>
      <mat-form-field appearance="fill" class="misc-item">
        <mat-label>Source</mat-label>
        <input type="text" matInput formControlName="source">
      </mat-form-field>
    </section>


  </mat-expansion-panel>

    <button class="save" mat-fab color="primary" type="submit" >
      <mat-icon aria-label="Save food changes">save</mat-icon></button>
</form>